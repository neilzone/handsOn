

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="de" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="de" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Allgemeines zum Setup &mdash; handsOn  Dokumentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="../_static/translations.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Stichwortverzeichnis" href="../genindex.html" />
    <link rel="search" title="Suche" href="../search.html" />
    <link rel="next" title="Sync-1.5 Server mit public accounts" href="fxsync_1_5_server.html" />
    <link rel="prev" title="Mozilla Cloud Services" href="mozcloud_services.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> handsOn
          

          
            
            <img src="../_static/darmarIT_logo_128.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../get_started.html">Get Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../handson_concept.html">Konzepte &amp; Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../motivation.html">Motivation &amp; Umfeld</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LICENSE.html">Lizenzbedingungen</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../desktop_system/index.html">Desktop Umgebungen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ubuntu_remove_pkgs/index.html">Zweifelhafte Ubuntu Pakete</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ubuntu_install_pkgs/index.html">Anwendungspakete</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devTools/index.html">Entwickler Pakete</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nodejs/index.html">Node.js (development)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apache_setup/index.html">Setup Apache2 HTTP Server</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Setup Mozilla Dienste</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="mozcloud_services.html">Mozilla Cloud Services</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Allgemeines zum Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="fxsync_1_5_server.html">Sync-1.5 Server mit public accounts</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozcloud_refs.html">Verweise</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../radicale/index.html">CalDAV &amp; CardDAV</a></li>
<li class="toctree-l1"><a class="reference internal" href="../print/index.html">Drucken mit CUPS &amp; IPP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scan/index.html">Scannen mit SANE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../android/index.html">Android</a></li>
<li class="toctree-l1"><a class="reference internal" href="../snappy/index.html">Linux snap-Pakete</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lxdlxc/index.html">Linux Container (LXC &amp; LXD)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docker/index.html">Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../citrix/index.html">Citrix Workspace App</a></li>
<li class="toctree-l1"><a class="reference internal" href="../oracle/index.html">Oracle (developer)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../searx.html">searx Suchmaschine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gogs.html">Gogs / Go Git Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glances.html">Glances: an eye on your system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pihole/index.html">pi-hole</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../excursion/index.html">Exkursionen und Erfahrungswerte</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">handsOn</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Setup Mozilla Dienste</a> &raquo;</li>
        
      <li>Allgemeines zum Setup</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/mozcloud/mozcloud_setup.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="allgemeines-zum-setup">
<span id="xref-mozcloud-setup"></span><h1>Allgemeines zum Setup<a class="headerlink" href="#allgemeines-zum-setup" title="Link zu dieser Überschrift">¶</a></h1>
<p>Beim Einrichten der Mozilla Dienste, empfiehlt es sich darauf zu achten, die
Dienste stark gegen das OS (auf dem sie installiert werden) zu isolieren.
Motivation sollte sein, die einfache Skallierbarkeit aufrecht zu erhalten und
den Dienst möglichst gut abzusichern bzw. zu isolieren. Letzteres ist um so
wichtiger, wenn man den Dienst <em>public</em> ins Internet stellen will.</p>
<p>Die Sourcen und Erläuterungen die von Mozilla zur Verfügung gestellt werden,
richten im einfachsten Setup i.d.R. eine Entwicklerumgebung ein. Zu dieser
Entwicklerumgebung, gehören meist ein kleiner ungesicherter WEB-Server, der auf
gesonderten Ports <em>lauscht</em>. Diese Entwicklerumgebungen sind für einen Test der
Installation meist recht hilfreich, sie eignen sich jedoch nicht dafür, ins
Internet gestellt zu werden. Hierfür sollten die Dienste hinter seinem SSL
signierten WEB-Server stehen, den man im Internet betreibt (z.B. hinter seinem
Apache WEB Server wie aus dem Abschnitt <a class="reference internal" href="../apache_setup/index.html#xref-apache-setup"><span class="std std-ref">Setup Apache2 HTTP Server</span></a>).</p>
<p>Die Installation und der produktive Betrieb der Dienste sollte unter einen
gesonderten System-Benutzer erfolgen.</p>
<ul class="simple">
<li><p>isolierter System-Benutzer für die Cloud Dienste (z.B.): <code class="docutils literal notranslate"><span class="pre">mozcloud</span></code></p></li>
<li><p>Installation unter dem Systemaccount (z.B.): <code class="docutils literal notranslate"><span class="pre">/home/mozcloud/&lt;servicename&gt;</span></code></p></li>
</ul>
<p>Einrichten des System-Benutzers (<code class="docutils literal notranslate"><span class="pre">mozcloud</span></code>):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo -H adduser --system --disabled-password --disabled-login <span class="se">\</span>
               --shell /bin/bash <span class="se">\</span>
               --gecos <span class="s2">&quot;Mozilla Cloud&quot;</span> <span class="se">\</span>
               mozcloud
</pre></div>
</div>
<p>Wechseln zum System-Benutzer:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo -i -u mozcloud
</pre></div>
</div>
<p>Clonen der Sourcen (z.B. Firefox Sync-1.5 Server) in den Home Ordner des
System-Benutzer:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> ~
$ git clone https://github.com/mozilla-services/syncserver
</pre></div>
</div>
<p>Hier im Ordner <code class="docutils literal notranslate"><span class="pre">/home/mozcloud/&lt;servicename&gt;</span></code>, also im HOME-Ordner des
System-Benutzer <code class="docutils literal notranslate"><span class="pre">mozcloud</span></code> würde man den Dienst installieren und testen.  Hat
man seine Tests beendet und will die ganze Cloud-Umgebung wieder von seinem
(Entwicklerrechner) eliminieren, dann reicht es aus den System-Benutzer der
Cloud zu löschen.  Bevor der Benutzer entfernt werden kann, müssen alle seine
Prozesse beendet werden. Läuft das WEB-Interface im Apache, muss also die
entsprechende Apache-Site mit der Konfiguration zu diesem Dienst (zu diesem
Account) deaktiviert werden (inkl. apache reload).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ deluser --remove-home mozcloud
</pre></div>
</div>
<div class="admonition caution">
<p class="admonition-title">Vorsicht</p>
<p>Auf diese Weise wird die gesammte Cloud Installation, sammt aller
Konfigurationen auf dem Host <strong>UNWIEDERUFLICH</strong> gelöscht.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="fxsync_1_5_server.html" class="btn btn-neutral float-right" title="Sync-1.5 Server mit public accounts" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="mozcloud_services.html" class="btn btn-neutral float-left" title="Mozilla Cloud Services" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019 Markus Heiser

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>