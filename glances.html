

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="de" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="de" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Glances: an eye on your system &mdash; handsOn  Dokumentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script type="text/javascript" src="_static/translations.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Stichwortverzeichnis" href="genindex.html" />
    <link rel="search" title="Suche" href="search.html" />
    <link rel="next" title="pi-hole" href="pihole/index.html" />
    <link rel="prev" title="Gogs / Go Git Service" href="gogs.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> handsOn
          

          
            
            <img src="_static/darmarIT_logo_128.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="get_started.html">Get Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="handson_concept.html">Konzepte &amp; Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="motivation.html">Motivation &amp; Umfeld</a></li>
<li class="toctree-l1"><a class="reference internal" href="LICENSE.html">Lizenzbedingungen</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="desktop_system/index.html">Desktop Umgebungen</a></li>
<li class="toctree-l1"><a class="reference internal" href="ubuntu_remove_pkgs/index.html">Zweifelhafte Ubuntu Pakete</a></li>
<li class="toctree-l1"><a class="reference internal" href="ubuntu_install_pkgs/index.html">Anwendungspakete</a></li>
<li class="toctree-l1"><a class="reference internal" href="devTools/index.html">Entwickler Pakete</a></li>
<li class="toctree-l1"><a class="reference internal" href="nodejs/index.html">Node.js (development)</a></li>
<li class="toctree-l1"><a class="reference internal" href="apache_setup/index.html">Setup Apache2 HTTP Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="mozcloud/index.html">Setup Mozilla Dienste</a></li>
<li class="toctree-l1"><a class="reference internal" href="radicale/index.html">CalDAV &amp; CardDAV</a></li>
<li class="toctree-l1"><a class="reference internal" href="print/index.html">Drucken mit CUPS &amp; IPP</a></li>
<li class="toctree-l1"><a class="reference internal" href="scan/index.html">Scannen mit SANE</a></li>
<li class="toctree-l1"><a class="reference internal" href="android/index.html">Android</a></li>
<li class="toctree-l1"><a class="reference internal" href="snappy/index.html">Linux snap-Pakete</a></li>
<li class="toctree-l1"><a class="reference internal" href="lxdlxc/index.html">Linux Container (LXC &amp; LXD)</a></li>
<li class="toctree-l1"><a class="reference internal" href="docker/index.html">Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="citrix/index.html">Citrix-Receiver</a></li>
<li class="toctree-l1"><a class="reference internal" href="oracle/index.html">Oracle (developer)</a></li>
<li class="toctree-l1"><a class="reference internal" href="searx.html">searx Suchmaschine</a></li>
<li class="toctree-l1"><a class="reference internal" href="gogs.html">Gogs / Go Git Service</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Glances: an eye on your system</a></li>
<li class="toctree-l1"><a class="reference internal" href="pihole/index.html">pi-hole</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="excursion/index.html">Exkursionen und Erfahrungswerte</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">handsOn</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Glances: an eye on your system</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/glances.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="glances-an-eye-on-your-system">
<span id="xref-glances"></span><h1>Glances: an eye on your system<a class="headerlink" href="#glances-an-eye-on-your-system" title="Link zu dieser Überschrift">¶</a></h1>
<p><a class="reference external" href="https://nicolargo.github.io/glances/">Glances</a> ist ein Monitoring Tool dass sowohl auf der Kommandozeile als auch über
ein WEB-UI genutzt werden kann.  Es kann einzeln auf einem Host genutzt werden,
aber im Client/Server Betrieb auch im Verbund.</p>
<p>Es wird in den Ubuntu/Debian Paketen (APT), angeboten, jedoch ist diese Version
i.d.R. veraltet, weshalb hier eine Installation der WEB-UI als Dienst aus den
<a class="reference external" href="https://pypi.python.org/pypi">PyPI</a> Paketen vorgenommen wird.</p>
<p>Die hier vorgestellte Installation weist sich durch folgende besondere
Eigenschaften aus:</p>
<ul class="simple">
<li><p>Komplette Installation nach <code class="docutils literal notranslate"><span class="pre">~glances</span></code>.</p></li>
<li><p>Der Glances Server wird hinter einer (Apache-) URL
<code class="docutils literal notranslate"><span class="pre">https://&lt;hostname&gt;/glances</span></code> betrieben.</p></li>
</ul>
<p>Zur Installation existiert ein Script, das alle Setups vornimmt:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ${SCRIPT_FOLDER}/glances.sh install server
</pre></div>
</div>
<p>Zur Wartung und Deinstallation bietet das Script weitere Kommandos an:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ${SCRIPT_FOLDER}/glances.sh --help
usage:
   glances.sh info
   glances.sh install    [server]
   glances.sh update     [server]
   glances.sh remove     [server]
   glances.sh activate   [server]
   glances.sh deactivate [server]
</pre></div>
</div>
<p>Im Einzelnen führt das KOmmando <code class="docutils literal notranslate"><span class="pre">install</span> <span class="pre">server</span></code> in etwa folgende Schritte
aus:</p>
<ol class="arabic">
<li><p>Es werden die minimal erforderlichen Systempakete (APT) installiert:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">-</span><span class="n">H</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">virtualenv</span> <span class="n">python3</span> <span class="n">python3</span><span class="o">-</span><span class="n">dev</span>
</pre></div>
</div>
</li>
<li><p>Es wird der Benutzer <code class="docutils literal notranslate"><span class="pre">$GLANCES_USER</span></code> (<code class="docutils literal notranslate"><span class="pre">glances</span></code>) angelegt. Sein <code class="docutils literal notranslate"><span class="pre">$HOME</span></code>
ist <code class="docutils literal notranslate"><span class="pre">/home/glances</span></code> und in diesen Ordner wird alles weitere installiert.
Hierzu gehört die Python-Umgebung (virtualenv in <code class="docutils literal notranslate"><span class="pre">~/py3</span></code>) in der die Pakete
<code class="docutils literal notranslate"><span class="pre">glances</span></code> und <code class="docutils literal notranslate"><span class="pre">bottle</span></code> installiert werden.</p></li>
<li><p>Die GLances Installation wird mit der <a class="reference external" href="https://www.freedesktop.org/software/systemd/man/systemd.service.html">Service-Unit</a> Datei
<a class="reference external" href="https://github.com/return42/handsOn/blob/master/templates/lib/systemd/system/glances.service">/lib/systemd/system/glances.service</a>
im <a class="reference external" href="https://github.com/systemd/systemd">systemd</a> eingerichtet:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">-</span><span class="n">H</span> <span class="n">systemctl</span> <span class="n">enable</span> <span class="n">glances</span><span class="o">.</span><span class="n">service</span>
<span class="n">sudo</span> <span class="o">-</span><span class="n">H</span> <span class="n">systemctl</span> <span class="n">restart</span> <span class="n">glances</span><span class="o">.</span><span class="n">service</span>
</pre></div>
</div>
<p>Die Ersetzungen sind:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># glances on localhost
GLANCES_PORT=61208
GLANCES_BIND=127.0.0.1

# systemd services
GLANCES_DESCRIPTION=&quot;Glances&quot;
GLANCES_SYSTEMD_UNIT=/lib/systemd/system/glances.service
GLANCES_USER=glances
GLANCES_HOME=/home/${GLANCES_USER}
</pre></div>
</div>
</li>
<li><p>Apache Site <a class="reference external" href="https://github.com/return42/handsOn/blob/master/templates/etc/apache2/sites-available/glances.conf">/etc/apache2/sites-available/glances.conf</a> mit <a class="reference external" href="http://httpd.apache.org/docs/2.2/mod/mod_proxy.html#ProxyPass">ProxyPass</a>
einrichten. Ersetzungen:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Apache Redirect</span>
<span class="n">GLANCES_APACHE_URL</span><span class="o">=</span><span class="s2">&quot;/glances&quot;</span>
<span class="n">GLANCES_APACHE_SITE</span><span class="o">=</span><span class="n">glances</span>
</pre></div>
</div>
<p>Proxy und glances.conf aktivieren:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">-</span><span class="n">H</span> <span class="n">a2enmod</span> <span class="n">proxy_http</span>
<span class="n">sudo</span> <span class="o">-</span><span class="n">H</span> <span class="n">a2ensite</span> <span class="o">-</span><span class="n">q</span> <span class="n">glances</span>
<span class="n">sudo</span> <span class="o">-</span><span class="n">H</span> <span class="n">apachectl</span> <span class="n">configtest</span>
<span class="n">sudo</span> <span class="o">-</span><span class="n">H</span> <span class="n">service</span> <span class="n">apache2</span> <span class="n">force</span><span class="o">-</span><span class="n">reload</span>
</pre></div>
</div>
</li>
</ol>
<p>Damit ist der Dienst (Glances WEB-UI) eingerichtet, er kann über die URL
<a class="reference external" href="https://myhostname/glances">https://myhostname/glances</a> erreicht werden.  Die Refresh-Rate kann in Sekunden
angegeben werden (default 10).  Um z.B. alle 3 Sekunden zu aktualisieren:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">--&gt;</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">myhostname</span><span class="o">/</span><span class="n">glances</span><span class="o">/</span><span class="mi">3</span>
</pre></div>
</div>
<p>Die Spalten mit den Prozessen können sortiert werden, dazu mit der Maus auf
z.B. ‚CPU‘ oder ‚MEM%‘ klicken (nicht alle Spalten können sortiert werden).  Es
ist auch möglich eine Steuerung über die Tastatur vorzunehmen, eine Übersicht
gbt es mit der Taste ‚h‘ (dazu mit der Maus vorher einmal in das Browser-Fenster
klicken um es zu aktivieren).</p>
<p>Für die Installation der Sensoren empfiehlt sich die Installation der Hardware
Tools (aber nicht auf einem V-Server):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>sudo -H ${SCRIPT_FOLDER}/ubuntu_install_pkgs.sh hwTools
</pre></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="pihole/index.html" class="btn btn-neutral float-right" title="pi-hole" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="gogs.html" class="btn btn-neutral float-left" title="Gogs / Go Git Service" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019 Markus Heiser

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>